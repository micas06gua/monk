<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Change Log | Monk</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.5.2">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-prism/prism.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    
    <link rel="prev" href="./docs/Debugging.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="4" data-chapter-title="Change Log" data-filepath="History.md" data-basepath="." data-revision="Thu Jul 07 2016 11:21:39 GMT+0100 (BST)">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Read Me
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="docs/GETTING_STARTED.html">
            
                
                    <a href="./docs/GETTING_STARTED.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Getting Started
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" >
            
            <span><b>2.</b> API Reference</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="docs/manager/index.html">
            
                
                    <a href="./docs/manager/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Manager
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="docs/manager/close.html">
            
                
                    <a href="./docs/manager/close.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.1.</b>
                        
                        close
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="docs/manager/create.html">
            
                
                    <a href="./docs/manager/create.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.2.</b>
                        
                        create
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="docs/manager/get.html">
            
                
                    <a href="./docs/manager/get.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.3.</b>
                        
                        get
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="docs/collection/index.html">
            
                
                    <a href="./docs/collection/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Collection
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="docs/collection/aggregate.html">
            
                
                    <a href="./docs/collection/aggregate.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.1.</b>
                        
                        aggregate
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="docs/collection/count.html">
            
                
                    <a href="./docs/collection/count.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.2.</b>
                        
                        count
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="docs/collection/distinct.html">
            
                
                    <a href="./docs/collection/distinct.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.3.</b>
                        
                        distinct
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2.4" data-path="docs/collection/drop.html">
            
                
                    <a href="./docs/collection/drop.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.4.</b>
                        
                        drop
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2.5" data-path="docs/collection/dropIndex.html">
            
                
                    <a href="./docs/collection/dropIndex.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.5.</b>
                        
                        dropIndex
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2.6" data-path="docs/collection/dropIndexes.html">
            
                
                    <a href="./docs/collection/dropIndexes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.6.</b>
                        
                        dropIndexes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2.7" data-path="docs/collection/ensureIndex.html">
            
                
                    <a href="./docs/collection/ensureIndex.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.7.</b>
                        
                        ensureIndex
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2.8" data-path="docs/collection/find.html">
            
                
                    <a href="./docs/collection/find.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.8.</b>
                        
                        find
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2.9" data-path="docs/collection/findOne.html">
            
                
                    <a href="./docs/collection/findOne.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.9.</b>
                        
                        findOne
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2.10" data-path="docs/collection/findOneAndDelete.html">
            
                
                    <a href="./docs/collection/findOneAndDelete.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.10.</b>
                        
                        findOneAndDelete
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2.11" data-path="docs/collection/findOneAndUpdate.html">
            
                
                    <a href="./docs/collection/findOneAndUpdate.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.11.</b>
                        
                        findOneAndUpdate
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2.12" data-path="docs/collection/indexes.html">
            
                
                    <a href="./docs/collection/indexes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.12.</b>
                        
                        indexes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2.13" data-path="docs/collection/insert.html">
            
                
                    <a href="./docs/collection/insert.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.13.</b>
                        
                        insert
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2.14" data-path="docs/collection/remove.html">
            
                
                    <a href="./docs/collection/remove.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.14.</b>
                        
                        remove
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2.15" data-path="docs/collection/update.html">
            
                
                    <a href="./docs/collection/update.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.15.</b>
                        
                        update
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="docs/id.html">
            
                
                    <a href="./docs/id.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        id
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="docs/Debugging.html">
            
                
                    <a href="./docs/Debugging.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Debugging
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="4" data-path="History.html">
            
                
                    <a href="./History.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Change Log
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" >
            
                
                    <a target="_blank" href="https:/github.com/Automattic/monk/graphs/contributors">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Contributors
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Monk</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="304--20160707">3.0.4 / 2016-07-07</h1>
<ul>
<li>Do not fail when inserting empty array</li>
</ul>
<h1 id="303--20160706">3.0.3 / 2016-07-06</h1>
<ul>
<li>Cast <code>_id</code> recursively (fix #3)</li>
</ul>
<h1 id="302--20160706">3.0.2 / 2016-07-06</h1>
<ul>
<li>Fix find cursor close when already paused</li>
</ul>
<h1 id="301--20160706">3.0.1 / 2016-07-06</h1>
<ul>
<li>Fix find cursor pause and resume</li>
</ul>
<h1 id="300--20160706">3.0.0 / 2016-07-06</h1>
<ul>
<li>remove Mongoskin dependency</li>
<li>new documentation using gitbook</li>
<li>add <code>opts</code> arg to <code>Collection.count</code> and <code>collection.distinct</code></li>
<li>deprecate <code>Collection.removeById</code>, <code>Collection.findById</code>, <code>Collection.updateById</code> in favor of using <code>remove</code>, <code>findOne</code> and <code>update</code> directly</li>
<li>deprecate <code>collection.id</code> and <code>manager.id</code> in favor of <code>monk.id</code></li>
<li><code>monk(&apos;localhost&apos;)</code> can be used as a promise which resolves when the connection opens and rejects when it throws an error (fix #24, fix #10)</li>
<li>deprecate <code>Collection.findAndModify</code> in favor of <code>Collection.findOneAndDelete</code> and <code>Collection.findOneAndUpdate</code> (fix #74)</li>
<li>add <code>Manager.create</code> (fix #50)</li>
<li>add option <code>rawCursor</code> to <code>Collection.find</code> to return the raw cursor (fix #103)</li>
</ul>
<h1 id="210--20160624">2.1.0 / 2016-06-24</h1>
<ul>
<li>add aggregate method (#56)</li>
<li>add dropIndex and dropIndexes methods (#113)</li>
<li>use <code>util.inherits</code> instead of <code>__proto__</code></li>
<li>Add <code>castIds</code> option to disable the automatic id casting (#1, #72)</li>
</ul>
<h1 id="201--20160624">2.0.1 / 2016-06-24</h1>
<ul>
<li>Safer insert (#137)</li>
</ul>
<h1 id="200--20160623">2.0.0 / 2016-06-23</h1>
<p>complete rewrite of monk:</p>
<ul>
<li>return real promises (#104)</li>
<li>update mongoskin and mongodb (#111)</li>
<li>auto binding of the methods</li>
<li>eslint</li>
<li>test coverage</li>
<li>Support $ne, $in, $nin for id casting</li>
<li>Make the sort option behave like fields</li>
</ul>
<h1 id="101--20150325">1.0.1 / 2015-03-25</h1>
<ul>
<li>upgrade; mongoskin to 1.4.13</li>
</ul>
<h1 id="092--20150228">0.9.2 / 2015-02-28</h1>
<ul>
<li>mongoskin: bump to 1.4.11</li>
<li>Inserting an array returns an array</li>
<li>Cast oids inside of $nor queries</li>
<li>Cast object ids inside of $or and $and queries</li>
<li>Cast object ids inside of $not queries</li>
<li>Added a missing test for updateById</li>
<li>Added removeById</li>
<li>Use <code>setImmediate</code> on node 0.10.x</li>
</ul>
<h1 id="091--20141115">0.9.1 / 2014-11-15</h1>
<ul>
<li>update mongoskin to 1.4.4</li>
</ul>
<h1 id="090--20140509">0.9.0 / 2014-05-09</h1>
<ul>
<li>addition of <code>close()</code> method</li>
<li>updaet mongoskin 1.4.1</li>
<li>fixed URL parsing of replsets</li>
<li>freezed mpromise version</li>
<li>fixed collection distinct after rebase</li>
<li>reimplemented Monk.Promise with MPromise.</li>
</ul>
<h1 id="081--20140301">0.8.1 / 2014-03-01</h1>
<ul>
<li>fix for parameter handling in <code>findAndModify</code></li>
<li>check for <code>uri</code> parameter or throw</li>
</ul>
<h1 id="080--20140301">0.8.0 / 2014-03-01</h1>
<ul>
<li>added <code>distinct</code> support (fixes #52)</li>
<li>added <code>Promise#then</code></li>
</ul>
<h1 id="071--20130303">0.7.1 / 2013-03-03</h1>
<ul>
<li>promise: expose <code>query</code></li>
</ul>
<h1 id="070--20121030">0.7.0 / 2012-10-30</h1>
<p>  *: bumped <code>mongoskin</code> and therefore <code>node-mongodb-native</code></p>
<h1 id="060--20121029">0.6.0 / 2012-10-29</h1>
<ul>
<li>collection: added cursor closing support</li>
<li>promise: introduce #destroy</li>
<li>test: added cursor destroy test</li>
</ul>
<h1 id="050--20121003">0.5.0 / 2012-10-03</h1>
<ul>
<li>promise: added opts to constructor</li>
<li>util: fix field negation</li>
<li>test: added test for promise options</li>
<li>collection: pass options to promises</li>
</ul>
<h1 id="040--20121003">0.4.0 / 2012-10-03</h1>
<ul>
<li>added travis</li>
<li>manager: added Manager#id and Manager#oid</li>
<li>collection: introduced Collection#oid</li>
<li>manager: added Manager#col</li>
</ul>
<h1 id="030--20120906">0.3.0 / 2012-09-06</h1>
<ul>
<li>collection: make <code>findAndModify</code> accept an oid as the query</li>
</ul>
<h1 id="021--20120714">0.2.1 / 2012-07-14</h1>
<ul>
<li>collection: fixed streaming when options are not supplied</li>
</ul>
<h1 id="020--20120714">0.2.0 / 2012-07-14</h1>
<ul>
<li>collection: added <code>count</code></li>
</ul>
<h1 id="0115--20120714">0.1.15 / 2012-07-14</h1>
<ul>
<li>collection: avoid mongoskin warn when buffering commands</li>
</ul>
<h1 id="0114--20120709">0.1.14 / 2012-07-09</h1>
<ul>
<li>Use any debug. [visionmedia]</li>
<li>Use any mocha. [visionmedia]</li>
</ul>
<h1 id="0113--20120528">0.1.13 / 2012-05-28</h1>
<ul>
<li>Fixed string-based field selection.</li>
</ul>
<h1 id="0112--20120525">0.1.12 / 2012-05-25</h1>
<ul>
<li>Added package.json tags.</li>
<li>Added support for update with ids (fixes #4)</li>
</ul>
<h1 id="0111--20120522">0.1.11 / 2012-05-22</h1>
<ul>
<li>Added support for new objectids through <code>Collection#id</code></li>
</ul>
<h1 id="0110--20120521">0.1.10 / 2012-05-21</h1>
<ul>
<li>Enhanced findAndModify default behavior for upserts.</li>
<li>Fixed findAndModify.</li>
</ul>
<h1 id="019--20120516">0.1.9 / 2012-05-16</h1>
<ul>
<li>Bumped mongoskin</li>
</ul>
<h1 id="018--20120512">0.1.8 / 2012-05-12</h1>
<ul>
<li>Fixed mongoskin version</li>
<li>Improved options docs section.</li>
</ul>
<h1 id="017--20120508">0.1.7 / 2012-05-08</h1>
<ul>
<li>Added global and collection-level options.</li>
<li>Enabled safe mode by default.</li>
<li>Improved error handling in tests.</li>
<li>Fixed <code>update</code> callback with safe: false.</li>
</ul>
<h1 id="016--20120506">0.1.6 / 2012-05-06</h1>
<ul>
<li>Added tests for <code>findById</code>.</li>
</ul>
<h1 id="015--20120506">0.1.5 / 2012-05-06</h1>
<ul>
<li>Added <code>Collection</code> references to <code>Promise</code>s.</li>
<li>Fixed <code>findAndModify</code>.</li>
</ul>
<h1 id="014--20120506">0.1.4 / 2012-05-06</h1>
<ul>
<li>Ensured insert calls back with a single object.</li>
<li>Ensured <code>insert</code> resolves promise in next tick.</li>
</ul>
<h1 id="013--20120503">0.1.3 / 2012-05-03</h1>
<ul>
<li>Exposed <code>util</code></li>
</ul>
<h1 id="012--20120503">0.1.2 / 2012-05-03</h1>
<ul>
<li>Make <code>Collection</code> inherit from <code>EventEmitter</code>.</li>
</ul>
<h1 id="011--20120427">0.1.1 / 2012-04-27</h1>
<ul>
<li>Added <code>updateById</code>.</li>
</ul>
<h1 id="010--20120423">0.1.0 / 2012-04-23</h1>
<ul>
<li>Initial release.</li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./docs/Debugging.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Debugging"><i class="fa fa-angle-left"></i></a>
        
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-github/plugin.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-anker-enable/anker.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"github":{"url":"https://github.com/Automattic/monk/"},"prism":{},"anker-enable":{},"search":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
